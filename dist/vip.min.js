!function(e,i){"object"==typeof exports&&"undefined"!=typeof module?module.exports=i():"function"==typeof define&&define.amd?define(i):e.VIP=i()}(this,function(){"use strict";var t={dev:"vip-web-test",beta:"vip-web-prod-beta",prod:"vip-web"},c="vp（公众号publicId）不能为空",p="vc（租户或合同号）不能为空",d="appid（应用ID）不能为空，",u="redirectURL不能为空",a={env:"prod",debug:!1};function v(e,i){void 0===i&&(i="log");var r=window.console;if(r)switch(i){case"error":r.error(e);break;case"warn":r.warn(e);break;case"debug":alert(e);break;default:r.log(e)}}return{login:function(e,i){var r,o;if(void 0===e&&(e={}),void 0===i&&(i=[]),o=e,"[object Object]"===Object.prototype.toString.call(o)){if(function(e){if(!(e.vp&&e.vc&&e.appid&&e.redirectURL)){var i=[];return!e.vc&&i.push(p),!e.vp&&i.push(c),!e.appid&&i.push(d),!e.redirectURL&&i.push(u),v(i.join("\n"),e.debug?"debug":"error"),!1}return!0}(e=Object.assign(Object.assign({},a),e))){i.length&&(r=(i=i.filter(function(e){return!!e})).join("_"));var n="//"+t[e.env]+".myfuwu.com.cn/login?vc="+e.vc+"&vp="+e.vp+"&appid="+e.appid+"&redirect_uri="+encodeURIComponent(e.redirectURL)+"&flow="+(r||"");window.location.replace(n)}}else v("config 必须是一个对象","error")},membership:function(e){void 0===e&&(e={}),this.login(e,["membership"])},auth:function(e){void 0===e&&(e={}),this.login(e,["auth"])}}});
